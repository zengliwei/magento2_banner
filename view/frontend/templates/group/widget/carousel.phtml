<?php

use Common\Banner\Block\Widget\Carousel;

/* @var Carousel $block */
$items = $block->getItems();
?>
<div class="block-carousel">
    <section class="vertical slider" data-role="carousel">
        <?php foreach ($items as $item): ?>
            <div>
                <?php if ($item->getData('type') == 'image') : ?>
                    <?php if ($item->getData('url')) : ?>
                        <a href="<?= $item->getData('url') ?>">
                            <img src="<?= $block->getMediaUrl($item->getData('media')) ?>"/>
                        </a>
                    <?php else : ?>
                        <img src="<?= $block->getMediaUrl($item->getData('media')) ?>"/>
                    <?php endif; ?>
                <?php endif; ?>
            </div>
        <?php endforeach; ?>
    </section>
    <script>
        require(['jquery', 'carousel'], function ($) {
            $('[data-role="carousel"]').slick({
                dots: true,
                infinite: true
            });
        });
    </script>
</div>
